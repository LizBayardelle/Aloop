<div class="col-lg-4 col-md-6 mb-md-0 mb-4"> <!-- Grid column -->

  <div class="view overlay rounded bottom-shadow mb-3">
    <%= link_to blog do %>
      <% if blog.image_url %>
      <img class="img-fluid" src="<%= blog.image_url %>" alt="<%= blog.title %>">
      <% elsif blog.image.attached? %>
        <img class="img-fluid" src="<%= polymorphic_url(blog.image) %>" alt="<%= blog.title %>">
      <% end %>
    <% end %>
  </div> <!-- Featured image -->

  <a href="#!" class="red-text">
    <h6 class="font-weight-bold">
      <% blog.subcategories.each do |sub| %>
        <%= link_to sub.title, subcategory_path(sub.id) %>
      <% end %>
    </h6>
  </a> <!-- Category -->

  <%= link_to blog do %>
    <h3 class="font-weight-bold mb-0 pb-0"><strong><%= blog.title %></strong></h3>
  <% end %>
  <p class="mb-1"><em>by <%= Spree::User.find(blog.spree_user_id).first_name %> <%= Spree::User.find(blog.spree_user_id).last_name %><% if blog.published_at %>, <%= blog.published_at.strftime("%b %e, %Y") %><% end %></em></p>
  <p>
    <strong><%= blog.teaser %></strong>
    <% if current_spree_user && current_spree_user.admin? %>
      <br><small>
        <%= link_to 'Edit', edit_blog_path(blog) %>
        &nbsp;&nbsp;|&nbsp;&nbsp;
        <%= link_to 'Delete', blog_path(blog), method: :delete, data: { confirm: 'Are you sure you want to delete that blog?'} %>
      </small>
    <% end %>
  </p>

</div> <!-- Grid column -->
